
## 广义表（Generalized List）概念

广义表（Lists, 又称列表）是一个种非线性的数据结构，是线性表的一种推广。

同数组类似，广义表中既可以存储不可再分的元素，也可以存储广义表，记作：
LS = (a1,a2,a3,...,an)

其中，LS 代表广义表的名称，ai是表元素，可以是表（称作子表），也可以是数据元素（成为原子）。其中 n是广义表的长度也就是最外层包含的元素个数），如果n=0，那么广义表就是空表；而递归定义的重数欧式广义表的深度，直观的说，就是定义中所含括号的重试（原子的深度为0，空表的深度为1）。例如：LS=（1, (2,3), (4,5)）。

### 原子和子表
通常，广义表中存储的单个元素称为"原子"，而存储的广义表称为子表。

例如创建一个广义表 LS = {1,{1,2,3}}，我们可以这样解释此广义表的构成：广义表 LS 存储了一个原子 1 和子表 {1,2,3}。

以下是广义表存储数据的一些常用形式：
* A = ()：A表示一个表义表，只不过是空表
* B = (e)：广义表 B 中只有一个原子 e。
* C = (a,(b,c,d)) ：广义表 C 中有两个元素，原子 a 和子表 (b,c,d)。
* D = (A,B,C)：广义表 D 中存有 3 个子表，分别是A、B和C。这种表示方式等同于 D = ((),(e),(b,c,d)) 。
* E = (a,E)：广义表 E 中有两个元素，原子 a 和它本身。这是一个递归广义表，等同于：E = (a,(a,(a,…)))。

### 广义表的表头和表尾
当广义表不是空表是，称第一个数据（原子或者子表）为表头，剩下（所有）数据构成的新广义表为"表尾"。

注意：除非广义表为空表，否则广义表一定具有表头和表尾，且广义表的表尾一定是一个广义表。

例如在广义表 LS={1,{1,2,3},5}, 表头为原子1，表尾为子表{1,2,3}和原子5构成的广义表，即{{1,2,3},5}。

再比如，在广义表 LS = {1} 中，表头为原子 1 ，但由于广义表中无表尾元素，因此该表的表尾是一个空表，用 {} 表示。

### 广义表的存储结构

由于广义表中既可以存储原子（不可再分的数据元素），也可存储子表，因此很难用顺序存储结构表示，通常情况下广义表结构采用链表实现

> 使用顺序表实现广义表结构，不仅需要操作 n 维数组（例如 {1,{2,{3,4}}} 就需要使用三维数组存储），还会造成存储空间的浪费。

#### 之一
使用链表存储广义表，首先需要确定链表中结点的结构。由于广义表可同事存储原子和子表两种形式的数据，因此链表结点的结构也有两种：

[图-广义表结点结构类型之一](http://data.biancheng.net/uploads/allimg/170720/2-1FH0161229619.png)

如上图所示：表示原子的结点由两部分组成，分别是tag标记位和原子的值，表示子表的结点由三部分构成，分别是tag标记位、hp指针、tp指针

* tag：tag标记位用于区分此结点的是原子还是子表，通常原子的tag 为 0，子表的tag值为 1。
* hp指针：子表结点中的hp指针用于连接本子表中存储的原子或者子表
* tp指针：tp指针用于连接广义表中下一个原子或者子表。

[图-广义表结点存储结构之一](http://data.biancheng.net/uploads/allimg/170720/2-1FH0161302422.png)

#### 之二

可以用下图表示广义表中的原子和子表中结构的结点：

[图-广义表结点结构类型之二](http://data.biancheng.net/uploads/allimg/170720/2-1FH016140E27.png)

表示原子的结点构成由tag标记位、原子值、和tp指针构成，表示子表的结点还是由tag标记位、hp指针、tp指针构成。

上图的结点结构存储广义表{a,{b,c,d}}的示意图如下图所示：

[图-广义表结点存储结构之二](http://data.biancheng.net/uploads/allimg/181222/2-1Q2221S61K03.gif)




## 多重链表

多重链表：链表中的结点可能同时隶属于多个链
* 多重链表中的结点的指针域会有多个，如前面例子包含了 Next 和 SubList 两个指针域
* 但包含两个指针域的链表并不一定是多重链表，比如双向链表不是多重链表。

多重链表有广泛的用途：
基本上如树、图这样相对复杂的数据结构都可以采用多重链表方式实现存储。